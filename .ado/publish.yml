name: 0.0.$(Date:yyMM.d)$(Rev:rrr)

pr: none
trigger:
  - main

pool: OE-OfficePublic

variables:
  - group: Hermes-Windows Secrets
  - group: InfoSec-SecurityResults
  - name: ArtifactServices.Symbol.AccountName
    value: microsoft
  - name: ArtifactServices.Symbol.PAT
    value: $(pat-symbols-publish-microsoft)
  - name: tags
    value: production,externalfacing

jobs:
  - job: Setup
    steps:
      - script: node .ado/scripts/setVersionNumber.js
        name: setVersions
        displayName: Compute version numbers

  - template: jobs.yml
    parameters:
      dependsOnSetup: true